<br>This example application is the same than<a href="/noscript/wiki/generateform" title="" target=""> the previous example</a>, but with the added functionality of undoing additions of form elements by pressing the back button thanks to the backtracking mechanism of MFlow.<br><br><a href="/noscript/complexthings/generateformundo" title="" target="">This is the application running&nbsp;</a><br><br><a href="https://github.com/agocorona/MFlow/blob/master/Demos/GenerateFormUndo.hs" title="" target="">This is the source code</a><br><br>See the<a href="/noscript/wiki/generateform" title="" target=""> description of how the previous example works</a>. The only noticeable change over the previous example is the&nbsp;<span class="nf" style="font-family: Consolas, 'Liberation Mono', Courier, monospace; font-size: 12px; line-height: 18px; white-space: pre; box-sizing: border-box; color: rgb(153, 0, 0); font-weight: bold;">createForm</span><span style="color: rgb(51, 51, 51); font-family: Consolas, 'Liberation Mono', Courier, monospace; font-size: 12px; line-height: 18px; white-space: pre;"> </span>procedure, which now has a loop.&nbsp;<br><br><span style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif;">unlike in the previous example, now&nbsp;</span><span class="nf" style="font-family: Consolas, 'Liberation Mono', Courier, monospace; font-size: 11.818181991577148px; line-height: 18px; white-space: pre; box-sizing: border-box; color: rgb(153, 0, 0); font-weight: bold;">createForm</span><span style="color: rgb(51, 51, 51); font-family: Consolas, 'Liberation Mono', Courier, monospace; font-size: 11.818181991577148px; line-height: 18px; white-space: pre;"> </span><span style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif;">contains the page statement, so it is of type&nbsp;</span><br style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif;"><span class="nf" style="font-family: Consolas, 'Liberation Mono', Courier, monospace; font-size: 11.818181991577148px; line-height: 18px; white-space: pre; box-sizing: border-box; color: rgb(153, 0, 0); font-weight: bold;">
FlowM Html IO</span><span style="color: rgb(51, 51, 51); font-family: Consolas, 'Liberation Mono', Courier, monospace; font-size: 12.222222328186035px; line-height: 18px; white-space: pre; background-color: rgb(255, 255, 255);"> </span><span class="p" style="color: rgb(51, 51, 51); font-family: Consolas, 'Liberation Mono', Courier, monospace; font-size: 12.222222328186035px; line-height: 18px; white-space: pre; box-sizing: border-box; background-color: rgb(255, 255, 255);">[</span><span class="kt" style="font-family: Consolas, 'Liberation Mono', Courier, monospace; font-size: 12.222222328186035px; line-height: 18px; white-space: pre; box-sizing: border-box; color: rgb(68, 85, 136); font-weight: bold; background-color: rgb(255, 255, 255);">WType</span><span class="p" style="color: rgb(51, 51, 51); font-family: Consolas, 'Liberation Mono', Courier, monospace; font-size: 12.222222328186035px; line-height: 18px; white-space: pre; box-sizing: border-box; background-color: rgb(255, 255, 255);">] 

<span style="color: rgb(0, 0, 0); font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14.545454025268555px; line-height: normal; white-space: normal;">instead of&nbsp;<br><br></span><span class="nf" style="box-sizing: border-box; color: rgb(153, 0, 0); font-weight: bold;">View Html IO</span><span style="font-size: 12.222222328186035px;"> </span><span class="p" style="font-size: 12.222222328186035px; box-sizing: border-box;">[</span><span class="kt" style="font-size: 12.222222328186035px; box-sizing: border-box; color: rgb(68, 85, 136); font-weight: bold;">WType</span><span class="p" style="font-size: 12.222222328186035px; box-sizing: border-box;">]</span></span><br><br>Now the&nbsp;<span class="n" style="color: rgb(51, 51, 51); font-family: Consolas, 'Liberation Mono', Courier, monospace; font-size: 12px; line-height: 18px; white-space: pre; box-sizing: border-box;">getSessionData</span><span style="color: rgb(51, 51, 51); font-family: Consolas, 'Liberation Mono', Courier, monospace; font-size: 12px; line-height: 18px; white-space: pre;"> </span>that retrieves the description and the sequence of the formlet identifiers has been moved out ot the&nbsp;<span class="n" style="color: rgb(51, 51, 51); font-family: Consolas, 'Liberation Mono', Courier, monospace; font-size: 12px; line-height: 18px; white-space: pre; box-sizing: border-box;">page</span><span style="color: rgb(51, 51, 51); font-family: Consolas, 'Liberation Mono', Courier, monospace; font-size: 12px; line-height: 18px; white-space: pre;"> </span>code. This means that when there is backtracking, that is, when the user press the back button, the procedure recover the previous state. This is explained in this article: <a href="http://haskell-web.blogspot.com.es/2013/04/controlling-backtracking-in-mflow.html" title="" target="">controlling backtracking in MFlow</a>. The reason is that only the page code is re-executed when backtracking. &nbsp;Since the session data is not retaken in the code of the page, then it implicitly it is set to the values that it had previously.<br><br><pre style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Courier, monospace; margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); line-height: 18px;"><div class="line" id="LC89" style="font-size: 12px; box-sizing: border-box; padding-left: 10px;"><span class="nf" style="box-sizing: border-box; color: rgb(153, 0, 0); font-weight: bold;">createForm :: FlowM Html IO</span><span style="font-size: 12.222222328186035px; background-color: rgb(255, 255, 255);"> </span><span class="p" style="font-size: 12.222222328186035px; box-sizing: border-box; background-color: rgb(255, 255, 255);">[</span><span class="kt" style="font-size: 12.222222328186035px; box-sizing: border-box; color: rgb(68, 85, 136); font-weight: bold; background-color: rgb(255, 255, 255);">WType</span><span class="p" style="font-size: 12.222222328186035px; box-sizing: border-box; background-color: rgb(255, 255, 255);">]</span></div><div class="line" id="LC89" style="font-size: 12px; box-sizing: border-box; padding-left: 10px;"><span class="nf" style="box-sizing: border-box; color: rgb(153, 0, 0); font-weight: bold;">createForm</span> <span class="n" style="box-sizing: border-box;">n</span> <span class="n" style="box-sizing: border-box;">title</span><span class="ow" style="box-sizing: border-box; font-weight: bold;">=</span> <span class="kr" style="box-sizing: border-box; font-weight: bold;">do</span></div><div class="line" id="LC90" style="font-size: 12px; box-sizing: border-box; padding-left: 10px;">&nbsp;<span class="n" style="box-sizing: border-box;">desc</span> <span class="ow" style="box-sizing: border-box; font-weight: bold;">&lt;-</span> <span class="n" style="box-sizing: border-box;">getSessionData</span> <span class="p" style="box-sizing: border-box;">`</span><span class="n" style="box-sizing: border-box;">onNothing</span><span class="p" style="box-sizing: border-box;">`</span> <span class="n" style="box-sizing: border-box;">return</span> <span class="kt" style="box-sizing: border-box; color: rgb(68, 85, 136); font-weight: bold;">[]</span></div><div class="line" id="LC91" style="font-size: 12px; box-sizing: border-box; padding-left: 10px;">&nbsp;<span class="kt" style="box-sizing: border-box; color: rgb(68, 85, 136); font-weight: bold;">Seq</span> <span class="n" style="box-sizing: border-box;">seq</span> <span class="ow" style="box-sizing: border-box; font-weight: bold;">&lt;-</span><span class="n" style="box-sizing: border-box;">getSessionData</span> <span class="p" style="box-sizing: border-box;">`</span><span class="n" style="box-sizing: border-box;">onNothing</span><span class="p" style="box-sizing: border-box;">`</span> <span class="n" style="box-sizing: border-box;">return</span> <span class="p" style="box-sizing: border-box;">(</span><span class="kt" style="box-sizing: border-box; color: rgb(68, 85, 136); font-weight: bold;">Seq</span> <span class="mi" style="box-sizing: border-box; color: rgb(0, 153, 153);">0</span><span class="p" style="box-sizing: border-box;">)</span></div><div class="line" id="LC92" style="font-size: 12px; box-sizing: border-box; padding-left: 10px;"><br style="box-sizing: border-box;"></div><div class="line" id="LC93" style="font-size: 12px; box-sizing: border-box; padding-left: 10px;">&nbsp;<span class="n" style="box-sizing: border-box;">r</span> <span class="ow" style="box-sizing: border-box; font-weight: bold;">&lt;-</span> <span class="n" style="box-sizing: border-box;">page</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">$</span> <span class="kr" style="box-sizing: border-box; font-weight: bold;">do</span></div><div class="line" id="LC94" style="font-size: 12px; box-sizing: border-box; padding-left: 10px;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="n" style="box-sizing: border-box;">divmenu</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">&lt;&lt;&lt;</span><span class="p" style="box-sizing: border-box;">(</span><span class="n" style="box-sizing: border-box;">wlogin</span></div><div class="line" id="LC95" style="font-size: 12px; box-sizing: border-box; padding-left: 10px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="o" style="box-sizing: border-box; font-weight: bold;">**&gt;</span> <span class="kr" style="box-sizing: border-box; font-weight: bold;">do</span></div><div class="line" id="LC96" style="font-size: 12px; box-sizing: border-box; padding-left: 10px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="n" style="box-sizing: border-box;">br</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">++&gt;</span> <span class="n" style="box-sizing: border-box;">wlink</span> <span class="p" style="box-sizing: border-box;">(</span><span class="s" style="box-sizing: border-box; color: rgb(221, 17, 68);">"save"</span> <span class="ow" style="box-sizing: border-box; font-weight: bold;">::</span> <span class="kt" style="box-sizing: border-box; color: rgb(68, 85, 136); font-weight: bold;">String</span><span class="p" style="box-sizing: border-box;">)</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">&lt;&lt;</span> <span class="n" style="box-sizing: border-box;">b</span>  <span class="s" style="box-sizing: border-box; color: rgb(221, 17, 68);">"Save the form and continue"</span></div><div class="line" id="LC97" style="font-size: 12px; box-sizing: border-box; padding-left: 10px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="o" style="box-sizing: border-box; font-weight: bold;">&lt;++</span> <span class="n" style="box-sizing: border-box;">br</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">&lt;&gt;</span> <span class="s" style="box-sizing: border-box; color: rgb(221, 17, 68);">"(when finished)"</span></div><div class="line" id="LC98" style="font-size: 12px; box-sizing: border-box; padding-left: 10px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="n" style="box-sizing: border-box;">content</span> <span class="ow" style="box-sizing: border-box; font-weight: bold;">&lt;-</span> <span class="n" style="box-sizing: border-box;">liftIO</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">$</span> <span class="n" style="box-sizing: border-box;">readtField</span>  <span class="p" style="box-sizing: border-box;">(</span><span class="n" style="box-sizing: border-box;">mempty</span> <span class="ow" style="box-sizing: border-box; font-weight: bold;">::</span> <span class="kt" style="box-sizing: border-box; color: rgb(68, 85, 136); font-weight: bold;">Html</span><span class="p" style="box-sizing: border-box;">)</span> <span class="p" style="box-sizing: border-box;">(</span><span class="n" style="box-sizing: border-box;">title</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">++</span> <span class="n" style="box-sizing: border-box;">show</span> <span class="n" style="box-sizing: border-box;">n</span><span class="p" style="box-sizing: border-box;">)</span></div><div class="line" id="LC99" style="font-size: 12px; box-sizing: border-box; padding-left: 10px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="n" style="box-sizing: border-box;">liftIO</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">.</span> <span class="n" style="box-sizing: border-box;">writetField</span> <span class="n" style="box-sizing: border-box;">title</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">$</span> <span class="n" style="box-sizing: border-box;">content</span></div><div class="line" id="LC100" style="font-size: 12px; box-sizing: border-box; padding-left: 10px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="n" style="box-sizing: border-box;">liftIO</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">$</span> <span class="n" style="box-sizing: border-box;">forM_</span> <span class="p" style="box-sizing: border-box;">[</span><span class="mi" style="box-sizing: border-box; color: rgb(0, 153, 153);">1</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">..</span> <span class="n" style="box-sizing: border-box;">n</span><span class="p" style="box-sizing: border-box;">]</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">$</span> <span class="nf" style="box-sizing: border-box; color: rgb(153, 0, 0); font-weight: bold;">\</span><span class="n" style="box-sizing: border-box;">n</span> <span class="ow" style="box-sizing: border-box; font-weight: bold;">-&gt;</span> <span class="n" style="box-sizing: border-box;">writetField</span> <span class="p" style="box-sizing: border-box;">(</span><span class="n" style="box-sizing: border-box;">title</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">++</span> <span class="n" style="box-sizing: border-box;">show</span> <span class="n" style="box-sizing: border-box;">n</span><span class="p" style="box-sizing: border-box;">)</span>  <span class="p" style="box-sizing: border-box;">(</span><span class="s" style="box-sizing: border-box; color: rgb(221, 17, 68);">""</span> <span class="ow" style="box-sizing: border-box; font-weight: bold;">::</span> <span class="kt" style="box-sizing: border-box; color: rgb(68, 85, 136); font-weight: bold;">Html</span><span class="p" style="box-sizing: border-box;">) -- delete previous versions</span></div><div class="line" id="LC101" style="font-size: 12px; box-sizing: border-box; padding-left: 10px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kt" style="box-sizing: border-box; color: rgb(68, 85, 136); font-weight: bold;">Just</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">&lt;$&gt;</span> <span class="n" style="box-sizing: border-box;">getSessionData</span> <span class="p" style="box-sizing: border-box;">`</span><span class="n" style="box-sizing: border-box;">onNothing</span><span class="p" style="box-sizing: border-box;">`</span> <span class="n" style="box-sizing: border-box;">return</span> <span class="kt" style="box-sizing: border-box; color: rgb(68, 85, 136); font-weight: bold;">[]</span></div><div class="line" id="LC102" style="font-size: 12px; box-sizing: border-box; padding-left: 10px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="o" style="box-sizing: border-box; font-weight: bold;">&lt;|&gt;</span> <span class="kr" style="box-sizing: border-box; font-weight: bold;">do</span></div><div class="line" id="LC103" style="font-size: 12px; box-sizing: border-box; padding-left: 10px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="n" style="box-sizing: border-box;">wdesc</span> <span class="ow" style="box-sizing: border-box; font-weight: bold;">&lt;-</span> <span class="n" style="box-sizing: border-box;">chooseWidget</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">&lt;++</span> <span class="n" style="box-sizing: border-box;">hr</span></div><div class="line" id="LC104" style="font-size: 12px; box-sizing: border-box; padding-left: 10px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="n" style="box-sizing: border-box;">setSessionData</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">$</span> <span class="n" style="box-sizing: border-box;">mappend</span> <span class="n" style="box-sizing: border-box;">desc</span> <span class="p" style="box-sizing: border-box;">[</span><span class="n" style="box-sizing: border-box;">wdesc</span><span class="p" style="box-sizing: border-box;">]</span></div><div class="line" id="LC105" style="font-size: 12px; box-sizing: border-box; padding-left: 10px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="n" style="box-sizing: border-box;">content</span> <span class="ow" style="box-sizing: border-box; font-weight: bold;">&lt;-</span> <span class="n" style="box-sizing: border-box;">liftIO</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">$</span> <span class="n" style="box-sizing: border-box;">readtField</span>  <span class="n" style="box-sizing: border-box;">mempty</span> <span class="p" style="box-sizing: border-box;">(</span><span class="n" style="box-sizing: border-box;">title</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">++</span> <span class="n" style="box-sizing: border-box;">show</span> <span class="n" style="box-sizing: border-box;">n</span><span class="p" style="box-sizing: border-box;">)</span></div><div class="line" id="LC106" style="font-size: 12px; box-sizing: border-box; padding-left: 10px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="n" style="box-sizing: border-box;">fieldview</span> <span class="ow" style="box-sizing: border-box; font-weight: bold;">&lt;-</span> <span class="n" style="box-sizing: border-box;">generateView</span>  <span class="n" style="box-sizing: border-box;">wdesc</span> <span class="n" style="box-sizing: border-box;">seq</span></div><div class="line" id="LC107" style="font-size: 12px; box-sizing: border-box; padding-left: 10px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="n" style="box-sizing: border-box;">liftIO</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">.</span> <span class="n" style="box-sizing: border-box;">writetField</span> <span class="p" style="box-sizing: border-box;">(</span><span class="n" style="box-sizing: border-box;">title</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">++</span> <span class="n" style="box-sizing: border-box;">show</span> <span class="p" style="box-sizing: border-box;">(</span><span class="n" style="box-sizing: border-box;">n</span><span class="o" style="box-sizing: border-box; font-weight: bold;">+</span><span class="mi" style="box-sizing: border-box; color: rgb(0, 153, 153);">1</span><span class="p" style="box-sizing: border-box;">))</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">$</span> <span class="n" style="box-sizing: border-box;">content</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">&lt;&gt;</span> <span class="n" style="box-sizing: border-box;">br</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">&lt;&gt;</span> <span class="n" style="box-sizing: border-box;">fieldview</span></div><div class="line" id="LC108" style="font-size: 12px; box-sizing: border-box; padding-left: 10px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="n" style="box-sizing: border-box;">return</span> <span class="kt" style="box-sizing: border-box; color: rgb(68, 85, 136); font-weight: bold;">Nothing</span></div><div class="line" id="LC109" style="font-size: 12px; box-sizing: border-box; padding-left: 10px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="p" style="box-sizing: border-box;">)</span></div><div class="line" id="LC110" style="font-size: 12px; box-sizing: border-box; padding-left: 10px;">&nbsp;&nbsp;&nbsp;&nbsp; <span class="o" style="box-sizing: border-box; font-weight: bold;">&lt;**</span> <span class="n" style="box-sizing: border-box;">divbody</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">&lt;&lt;&lt;</span>  <span class="n" style="box-sizing: border-box;">wform</span> <span class="p" style="box-sizing: border-box;">(</span><span class="n" style="box-sizing: border-box;">edTemplate</span> <span class="s" style="box-sizing: border-box; color: rgb(221, 17, 68);">"edituser"</span> <span class="p" style="box-sizing: border-box;">(</span><span class="n" style="box-sizing: border-box;">title</span> <span class="o" style="box-sizing: border-box; font-weight: bold;">++</span> <span class="n" style="box-sizing: border-box;">show</span> <span class="n" style="box-sizing: border-box;">n</span><span class="p" style="box-sizing: border-box;">)</span> <span class="p" style="box-sizing: border-box;">(</span><span class="n" style="box-sizing: border-box;">return</span> <span class="nb" style="box-sizing: border-box; color: rgb(0, 134, 179);">()</span><span class="p" style="box-sizing: border-box;">)</span> <span class="p" style="box-sizing: border-box;">)</span></div><div class="line" id="LC111" style="font-size: 12px; box-sizing: border-box; padding-left: 10px;">&nbsp;<span class="kr" style="box-sizing: border-box; font-weight: bold;">case</span> <span class="n" style="box-sizing: border-box;">r</span> <span class="kr" style="box-sizing: border-box; font-weight: bold;">of</span></div><div class="line" id="LC112" style="box-sizing: border-box; padding-left: 10px;"><span style="font-size: 12px;">&nbsp;&nbsp;&nbsp;</span><span class="kt" style="font-size: 12px; box-sizing: border-box; color: rgb(68, 85, 136); font-weight: bold;">Just</span><span style="font-size: 12px;"> </span><span class="n" style="font-size: 12px; box-sizing: border-box;">desc</span><span style="font-size: 12px;"> </span><span class="ow" style="font-size: 12px; box-sizing: border-box; font-weight: bold;">-&gt;</span><span style="font-size: 12px;"> </span><font size="3"><b>b<span class="n" style="box-sizing: border-box;">return</span></b> </font><span class="n" style="font-size: 12px; box-sizing: border-box;">desc</span></div><div class="line" id="LC113" style="font-size: 12px; box-sizing: border-box; padding-left: 10px;">&nbsp;&nbsp;&nbsp;<span class="kt" style="box-sizing: border-box; color: rgb(68, 85, 136); font-weight: bold;">Nothing</span> <span class="ow" style="box-sizing: border-box; font-weight: bold;">-&gt;</span> <span class="n" style="box-sizing: border-box;">createForm</span> <span class="p" style="box-sizing: border-box;">(</span><span class="n" style="box-sizing: border-box;">n</span><span class="o" style="box-sizing: border-box; font-weight: bold;">+</span><span class="mi" style="box-sizing: border-box; color: rgb(0, 153, 153);">1</span><span class="p" style="box-sizing: border-box;">)</span> <span class="n" style="box-sizing: border-box;">title</span></div><div style="font-size: 12px;"><span class="n" style="box-sizing: border-box;"><br></span></div></pre><span class="p" style="color: rgb(51, 51, 51); font-family: Consolas, 'Liberation Mono', Courier, monospace; font-size: 12.222222328186035px; line-height: 18px; white-space: pre; box-sizing: border-box; background-color: rgb(255, 255, 255);"><span style="color: rgb(0, 0, 0); font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14.545454025268555px; line-height: normal; white-space: normal;"><br>&nbsp;</span></span><br>The save button (first half of the code in the&nbsp;<span class="n" style="color: rgb(51, 51, 51); font-family: Consolas, 'Liberation Mono', Courier, monospace; font-size: 12px; line-height: 18px; white-space: pre; box-sizing: border-box;">page</span>) as in the previous example, return the description of the form.<b> Note the breturn statement at the end.&nbsp;</b>That assures that when there is backtracking, &nbsp;the page if createForm will be called back.<br><br>&nbsp;But before returning it deletes&nbsp;the unused versions of the tFields. The reason for the need of version is because unlike the description of the form -that is stored in the session data- the tFields are pages segments that are cached and stored in files. So they must be explicitly deleted.<br><br>These versions are created in the second half of the&nbsp;<span class="n" style="color: rgb(51, 51, 51); font-family: Consolas, 'Liberation Mono', Courier, monospace; font-size: 12px; line-height: 18px; white-space: pre; box-sizing: border-box;">page</span><span style="color: rgb(51, 51, 51); font-family: Consolas, 'Liberation Mono', Courier, monospace; font-size: 12px; line-height: 18px; white-space: pre;"> </span>code, which is the menu. Now this second half return the option chosen, while before his result was ignored. In the previous example, all the edition was carried out in the same page. Now the option chosen generates a widget that is added to a new version of the form, that gets a new name by appending &nbsp;(n+1) &nbsp;to the title. Then the description is also updated in the session data. Finally it returns Nothing.&nbsp;<br><br>When a option of the menu has been chosen it get out of the page and is detected by the last case statement. ,Then the createForm is called again recursively with n increased to mean that there is a new version. The page is refreshed with the content of this new version and so on.<br><br>When the &nbsp;back button is pressed, The browser present the previous page, that contains the rendering of the previous version. When the user press an option, the code detect that this option has a REST link corresponding to a previous page, then page backtrack, but since the previous page executed is the same code &nbsp;with the previous version, then it executes the addition of the new option to the previous version.<br><br>The loop end when the save is pressed. Then the flow test the form, as in the case of the previous example.<br><br><br><br>