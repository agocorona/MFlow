<br><p style="margin: 0px; font-family: 'Times New Roman'; font-size: medium;"><span style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;">In the latest version of MFlow, the autorefreshed widgets (the ones that use&nbsp;</span><a href="http://hackage.haskell.org/package/MFlow/docs/MFlow-Forms-Widgets.html#v:autoRefresh" title="" target="" style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;">autRefresh</a><span style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;">,&nbsp;</span><a href="http://hackage.haskell.org/package/MFlow/docs/MFlow-Forms-Widgets.html#v:appendUpdate" title="" target="" style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;">appendUpdate&nbsp;</a><span style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;">and&nbsp;</span><a href="http://hackage.haskell.org/package/MFlow/docs/MFlow-Forms-Widgets.html#v:prependUpdate" title="" target="" style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;">prependUpdate</a><span style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;">) can be cached. The advantage is that there are no spurious round-trips to the server to get fragments of pages &nbsp;that already have been sent.&nbsp;</span></p><p style="margin: 0px; font-family: 'Times New Roman'; font-size: medium;"><span style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;"><br></span></p><p style="margin: 0px; font-family: 'Times New Roman'; font-size: medium;"><span style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;">The goal is to avoid to &nbsp;access the server except whenever a heavy front-end framework would have the need to do it: when there are something new to get from the server.</span><br style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;"><br style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;"><span style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;">While JavaScript frameworks rely on heavy Javascript programming using the lattest HTML5 API storage facilities, MFlow relies on &nbsp;HTML fragments, retrieved using GET queries. They are stored in the browser HTTP cache. &nbsp;The HTTP caching &nbsp;works for you, The amount of programming is reduced drastically in relation with JavaScript frameworks. and the effect is compatible with all browsers.</span><br style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;"><br style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;"><span style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;">See for example this &nbsp;piece:</span><br style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;"><br style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;"></p><pre style="margin-top: 0px; margin-bottom: 0px; font-size: 12px; line-height: 18px; box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Courier, monospace;"><div class="line" id="LC85" style="color: rgb(51, 51, 51); box-sizing: border-box; padding-left: 10px;">&nbsp;showProducts= autoRefresh $</div><div class="line" id="LC85" style="color: rgb(51, 51, 51); box-sizing: border-box; padding-left: 10px;">              <span class="kr" style="box-sizing: border-box; font-weight: bold;">do </span><font color="#333333">&nbsp;absLink </font><font color="#445588">IPad </font><span class="o" style="box-sizing: border-box; font-weight: bold;">&lt;&lt;</span><font color="#333333"> </font><span class="n" style="box-sizing: border-box;">b</span><font color="#333333">  </font><span class="s" style="color: rgb(221, 17, 68); box-sizing: border-box;">"See Ipad models"</span></div><div class="line" id="LC87" style="color: rgb(51, 51, 51); box-sizing: border-box; padding-left: 10px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;       showModel IPad<br></div><div class="line" id="LC88" style="color: rgb(51, 51, 51); box-sizing: border-box; padding-left: 10px;"><br></div><div class="line" id="LC88" style="color: rgb(51, 51, 51); box-sizing: border-box; padding-left: 10px;">          &lt;|&gt; <span class="kr" style="box-sizing: border-box; font-weight: bold;">do </span><font color="#333333">&nbsp;absLink </font><font color="#445588">IPod </font><span class="o" style="box-sizing: border-box; font-weight: bold;">&lt;&lt;</span><font color="#333333"> </font><span class="n" style="box-sizing: border-box;">b</span><font color="#333333">  </font><span class="s" style="color: rgb(221, 17, 68); box-sizing: border-box;">"See Ipod models"</span></div><pre style="margin-top: 0px; margin-bottom: 0px; box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Courier, monospace;"><div class="line" id="LC87" style="color: rgb(51, 51, 51); box-sizing: border-box; padding-left: 10px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;       showModel IPod<br></div></pre><div class="line" id="LC91" style="color: rgb(51, 51, 51); box-sizing: border-box; padding-left: 10px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></div></pre><p style="margin: 0px; font-family: 'Times New Roman'; font-size: medium;"><span style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;">&nbsp;</span><br style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;"><span style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;">Shows initially two links to two products. Since it is autoRefreshed, the fragment refresh itself when one of the links is pressed. When the user press the first of the links, by the definition of the Monad instance (see&nbsp;</span><a href="http://haskell-web.blogspot.com.es/2013/06/the-promising-land-of-monadic-formlets.html" title="" target="" style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;">this</a><span style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;">) the code that follows it is executed, so the rendering of the model appears.&nbsp;</span><br style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;"><br style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;"><span style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;">When the other link is pressed, the rendering of the second model appears, and the first collapses. (see the&nbsp;</span><a href="http://mflowdemo.herokuapp.com/noscript/wiki/links" title="" target="" style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;">links&nbsp;</a><span style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;">section of the wiki) . &nbsp;</span><br style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;"><br style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;"><span style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;">When the first link is pressed again, since the former was a GET request, if it is cached by the appropriate directives, there will not be a call again to the server. The fragment will be read from the browser's HTTP cache.</span><br style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;"><br style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;"><span style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;">That is how &nbsp;MFlow can perform the caching that the Javascript frameworks do with heavy HTML5 API programming</span><br style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;"><br style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;"><span style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;">MFlow has the&nbsp;</span><i style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;">setHttpHeader &nbsp;</i><span style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;">call that, as the name tells, set the HTTP header directives.&nbsp;</span><br style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;"><br style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;"></p><pre style="margin-top: 0px; margin-bottom: 0px; box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Courier, monospace; font-size: 12px; color: rgb(51, 51, 51); line-height: 18px;"><div class="line" id="LC689" style="box-sizing: border-box; padding-left: 10px;"><span class="nf" style="box-sizing: border-box; color: rgb(153, 0, 0); font-weight: bold;">setHttpHeader</span> <span class="ow" style="box-sizing: border-box; font-weight: bold;">::</span> <span class="kt" style="box-sizing: border-box; color: rgb(68, 85, 136); font-weight: bold;">MonadState</span> <span class="p" style="box-sizing: border-box;">(</span><span class="kt" style="box-sizing: border-box; color: rgb(68, 85, 136); font-weight: bold;">MFlowState</span> <span class="n" style="box-sizing: border-box;">view</span><span class="p" style="box-sizing: border-box;">)</span> <span class="n" style="box-sizing: border-box;">m</span></div><div class="line" id="LC690" style="box-sizing: border-box; padding-left: 10px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   &nbsp;<span class="ow" style="box-sizing: border-box; font-weight: bold;">=&gt;</span> <span class="kt" style="box-sizing: border-box; color: rgb(68, 85, 136); font-weight: bold;">ByteString</span>  <span class="c1" style="box-sizing: border-box; color: rgb(153, 153, 136); font-style: italic;">-- ^ name</span></div><div class="line" id="LC691" style="box-sizing: border-box; padding-left: 10px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    <span class="ow" style="box-sizing: border-box; font-weight: bold;">-&gt;</span> <span class="kt" style="box-sizing: border-box; color: rgb(68, 85, 136); font-weight: bold;">ByteString</span>  <span class="c1" style="box-sizing: border-box; color: rgb(153, 153, 136); font-style: italic;">-- ^ value</span></div><div class="line" id="LC692" style="box-sizing: border-box; padding-left: 10px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    <span class="ow" style="box-sizing: border-box; font-weight: bold;">-&gt;</span> <span class="n" style="box-sizing: border-box;">m</span> <span class="nb" style="box-sizing: border-box; color: rgb(0, 134, 179);">()</span></div></pre><p style="margin: 0px; font-family: 'Times New Roman'; font-size: medium;"><br style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;"><span style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;">It is session-wide, so if you can put it at the beginning of the session. You can change it afterwards whereever you like.&nbsp;</span><br style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;"><br style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;"><span style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;">For example, this site now has a directive:</span><br style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;"><br style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;"><i style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;">&nbsp; &nbsp; &nbsp; &nbsp;setHttpHeader "Cache-Control" "public, max-age=300"<br></i><br style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;"><span style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;">This caching permits the options on the cascade menu on the demo to be filled without invoking repeated roundtrips to the server.</span></p><p style="margin: 0px; font-family: 'Times New Roman'; font-size: medium;"><br></p><p style="margin: 0px; font-family: 'Times New Roman'; font-size: medium;"><a href="http://mflowdemo.herokuapp.com/">http://mflowdemo.herokuapp.com</a><br style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;"><br style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;"><span style="font-family: 'rebuchet MS', Helvetica, Arial, Verdana, sans-serif; font-size: 14px;">More fine control on HTTP caching will be developed. A component-based framework like this can mix pieces with different inherent caching needs: A widget that show private information inside a general container widget with less restrictive policy must respect the more restrictive directive automatically.&nbsp;</span></p>