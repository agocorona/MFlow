<h1>REST navigation: The Web Navigation Monad</h1><div class="\&quot;post-header\&quot;" style="\&quot;line-height:" 1.6;="" margin:="" 0px="" 1.5em;="" font-size:="" 11px;="" color:="" rgb(34,="" 34,="" 34);="" font-family:="" arial,="" tahoma,="" helvetica,="" freesans,="" sans-serif;="" background-color:="" rgb(255,="" 255,="" 255);\"=""><div class="\&quot;post-header-line-1\&quot;"></div></div><div class="\&quot;post-body" entry-content\"="" id="\&quot;post-body-7561994659165525324\&quot;" itemprop="\&quot;description" articlebody\"="" style="\&quot;width:" 730px;="" position:="" relative;="" background-color:="" rgb(255,="" 255,="" 255);\"=""><div style="\&quot;color:" rgb(34,="" 34,="" 34);="" font-family:="" arial,="" tahoma,="" helvetica,="" freesans,="" sans-serif;="" font-size:="" 13px;="" line-height:="" 1.4;="" text-align:="" justify;\"=""><span style="\&quot;font-family:" inherit;="" line-height:="" 1.4;\"="">The</span><span style="\&quot;font-family:" inherit;="" line-height:="" 1.4;\"="">&nbsp;</span><a href="\&quot;http://hackage.haskell.org/package/MFlow\&quot;" style="\&quot;font-family:" inherit;="" line-height:="" 1.4;="" text-decoration:="" none;="" color:="" rgb(136,="" 136,="" 136);\"="">MFlow</a><span style="\&quot;font-family:" inherit;="" line-height:="" 1.4;\"="">&nbsp;</span><span style="\&quot;font-family:" inherit;="" line-height:="" 1.4;\"="">app server can express routes within normal Haskell monadic code. The FlowM monad backtrack and goes forward to track the URL of any page within the monadic flow.</span></div><div style="\&quot;text-align:" justify;\"=""><font color="\&quot;#222222\&quot;" face="\&quot;Arial," tahoma,="" helvetica,="" freesans,="" sans-serif\"="" size="\&quot;2\&quot;"><span style="\&quot;line-height:" 18px;\"=""><br></span></font></div><span style="\&quot;color:" rgb(34,="" 34,="" 34);="" font-family:="" inherit;="" font-size:="" 13px;="" line-height:="" 1.4;\"=""><div style="\&quot;text-align:" justify;\"=""><span style="\&quot;font-family:" inherit;="" line-height:="" 1.4;\"="">To make a web application program more close to a plain console application, I created</span><span style="\&quot;font-family:" inherit;="" line-height:="" 1.4;\"="">&nbsp;</span><span style="\&quot;line-height:" 1.4;="" font-family:="" 'courier="" new',="" courier,="" monospace;\"="">runNavigation</span><span style="\&quot;font-family:" inherit;="" line-height:="" 1.4;\"="">, that get the port from the first execution parameter. If not, it read it from the PORT environment variable. If it does not exist, it uses the por 80.</span><span style="\&quot;font-family:" inherit;="" line-height:="" 1.4;\"="">&nbsp;</span></div></span><div style="\&quot;text-align:" justify;\"=""><br></div><span style="\&quot;color:" rgb(34,="" 34,="" 34);="" font-family:="" 'courier="" new',="" courier,="" monospace;="" font-size:="" 13px;="" line-height:="" 1.4;\"=""><div style="\&quot;text-align:" justify;\"=""><span style="\&quot;line-height:" 1.4;\"="">runNavigation</span><font color="\&quot;#222222\&quot;" face="\&quot;Arial," tahoma,="" helvetica,="" freesans,="" sans-serif\"="" size="\&quot;2\&quot;"><span style="\&quot;line-height:" 1.4;\"="">&nbsp;executes a persistent navigation (whose state is logged and later recovered when the process has a timeout).&nbsp; If the flow is not persistent, it must be prefixed with&nbsp;</span></font><span style="\&quot;line-height:" 1.4;\"="">transientNav.</span></div></span><div style="\&quot;text-align:" justify;\"=""><br></div><font color="\&quot;#222222\&quot;" face="\&quot;Arial," tahoma,="" helvetica,="" freesans,="" sans-serif\"="" size="\&quot;2\&quot;"><div style="\&quot;text-align:" justify;\"=""><font color="\&quot;#222222\&quot;" face="\&quot;Arial," tahoma,="" helvetica,="" freesans,="" sans-serif\"="" size="\&quot;2\&quot;"><span style="\&quot;line-height:" 1.4;\"="">The result is a more close visualization of what the&nbsp;</span></font><span style="\&quot;font-family:" 'courier="" new',="" courier,="" monospace;="" font-size:="" 13px;="" line-height:="" 1.4;\"="">FlowM</span><font color="\&quot;#222222\&quot;" face="\&quot;Arial," tahoma,="" helvetica,="" freesans,="" sans-serif\"="" size="\&quot;2\&quot;"><span style="\&quot;line-height:" 1.4;\"="">&nbsp;monad is: a navigation monad.</span></font></div></font><div style="\&quot;text-align:" justify;\"=""><br></div><font color="\&quot;#222222\&quot;" face="\&quot;Arial," tahoma,="" helvetica,="" freesans,="" sans-serif\"="" size="\&quot;2\&quot;"><div style="\&quot;text-align:" justify;\"=""><span style="\&quot;line-height:" 1.4;\"="">This example has two routes (letters and numbers). Each one has a simple&nbsp;</span><span style="\&quot;line-height:" 18px;\"="">succession</span><span style="\&quot;line-height:" 1.4;\"="">&nbsp;of pages. The user can navigate forward and backward, introduce any url and the program will track the code of he page to be executed and generated.</span></div></font></div>"